<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>common.js - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Externals</h3><ul><li><a href="external-_jQuery.fn_.html">jQuery.fn</a><ul class='methods'><li data-type='method'><a href="external-_jQuery.fn_.html#animateCss">animateCss</a></li><li data-type='method'><a href="external-_jQuery.fn_.html#bindData">bindData</a></li><li data-type='method'><a href="external-_jQuery.fn_.html#cover">cover</a></li><li data-type='method'><a href="external-_jQuery.fn_.html#highlightText">highlightText</a></li><li data-type='method'><a href="external-_jQuery.fn_.html#mdEditor">mdEditor</a></li><li data-type='method'><a href="external-_jQuery.fn_.html#toggleScroll">toggleScroll</a></li></ul></li><li><a href="external-angular.html">angular</a><ul class='methods'><li data-type='method'><a href="external-angular.html#.ajaxAll">ajaxAll</a></li><li data-type='method'><a href="external-angular.html#.resetForm">resetForm</a></li><li data-type='method'><a href="external-angular.html#.start">start</a></li></ul></li><li><a href="external-jQuery.html">jQuery</a><ul class='methods'><li data-type='method'><a href="external-jQuery.html#.ajaxAll">ajaxAll</a></li><li data-type='method'><a href="external-jQuery.html#.toggleScroll">toggleScroll</a></li></ul></li><li><a href="external-Object.html">Object</a><ul class='methods'><li data-type='method'><a href="external-Object.html#ifHasProperty">ifHasProperty</a></li><li data-type='method'><a href="external-Object.html#prop">prop</a></li><li data-type='method'><a href="external-Object.html#toJson">toJson</a></li></ul></li><li><a href="external-String.html">String</a><ul class='methods'><li data-type='method'><a href="external-String.html#capitalize">capitalize</a></li><li data-type='method'><a href="external-String.html#cut">cut</a></li><li data-type='method'><a href="external-String.html#dasherize">dasherize</a></li><li data-type='method'><a href="external-String.html#ltrim">ltrim</a></li><li data-type='method'><a href="external-String.html#md2Html">md2Html</a></li><li data-type='method'><a href="external-String.html#padLeft">padLeft</a></li><li data-type='method'><a href="external-String.html#padRight">padRight</a></li><li data-type='method'><a href="external-String.html#regexReplace">regexReplace</a></li><li data-type='method'><a href="external-String.html#repeat">repeat</a></li><li data-type='method'><a href="external-String.html#replaceAll">replaceAll</a></li><li data-type='method'><a href="external-String.html#rtrim">rtrim</a></li><li data-type='method'><a href="external-String.html#stripHtmlTag">stripHtmlTag</a></li><li data-type='method'><a href="external-String.html#title2Url">title2Url</a></li><li data-type='method'><a href="external-String.html#toObject">toObject</a></li><li data-type='method'><a href="external-String.html#trim">trim</a></li></ul></li></ul><h3>Global</h3><ul><li><a href="global.html#escapeHTML">escapeHTML</a></li><li><a href="global.html#generateRandomAlphaNum">generateRandomAlphaNum</a></li><li><a href="global.html#isArray">isArray</a></li><li><a href="global.html#isFunction">isFunction</a></li><li><a href="global.html#isNumber">isNumber</a></li></ul>
</nav>

<div id="main">
    
    <h1 class="page-title">common.js</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * Native functions
 * @author Bendy Zhang &lt;zb@bndy.net>
 * @copyright BNDY.NET 2017
 * @see {@link http://bndy.net|Home Page}
 */


'use strict';
//===================================================================

/**
 * Gets a random string.
 * @param {number} len - The random string length.
 * @returns {string} A random string.
 * @example
 * generateRandomAlphaNum(10);
 * // => "4zvu4la1cd"
 */
function generateRandomAlphaNum(len) {
    var rdmString = "";
    for (; rdmString.length &lt; len; rdmString += Math.random().toString(36).substr(2));
    return rdmString.substr(0, len);

}

/**
 * Checks whether is number.
 * @param {*} n 
 * @returns {boolean} true if number, otherwise false.
 */
function isNumber(n) {
    return !isNaN(parseFloat(n)) &amp;&amp; isFinite(n);
}

/**
 * Checks whether is an Array.
 * @param {*} obj - The target.
 * @returns {boolean} true if an array, otherwise false.
 */
function isArray(obj) {
    return Object.prototype.toString.call(obj) === '[object Array]';
}

/**
 * Checks whether is a function.
 * @param {*} obj - The target.
 * @returns {boolean} true if function, otherwise false.
 */
function isFunction(obj) {
    return typeof obj === 'function';
}

/**
 * Escapes the html string.
 * @param {*} text - The html string.
 * @returns {string} A string escaped.
 * @example
 * escapeHTML('&lt;h1>Hell World!&lt;/h1>');
 * // => "&amp;lt;h1&amp;gt;Hell World!&amp;lt;/h1&amp;gt;"
 */
function escapeHTML(text) {
    var replacements = {
        "&lt;": "&amp;lt;",
        ">": "&amp;gt;",
        "&amp;": "&amp;amp;",
        "\"": "&amp;quot;"
    };
    return text.replace(/[&lt;>&amp;"]/g, function (character) {
        return replacements[character];
    });
}


//===================================================================
/**
 * @external Object
 */

Object.defineProperties(Object.prototype, {
    /**
     * To do something if the object hasOwnProperty.
     * @function external:Object#ifHasProperty
     * @param {string} propertyName - The property name.
     * @param {function} callback - The callback function.
     * @example
     * {name: 'Bendy'}.ifHasProperty('name', function(propertyValue) { console.debug(propertyValue); });
     * // Bendy
     */
    ifHasProperty: {
        value: function (propertyName, callback) {
            if (this.hasOwnProperty(propertyName)) {
                if (callback) {
                    callback(this[propertyName]);
                }
            }
        },
        enumerable: false, // defaults to false
        writable: false, // defaults to false
    },

    /**
     * Converts an object to json string.
     * @function external:Object#toJson
     * @returns {string} A json string.
     * @example
     * {name:'zhang'}.toJsonString();
     * // => "{"name":"zhang"}"
     */
    toJson: {
        value: function () {
            return JSON.stringify(this);
        },
    },
});

//===================================================================
/**
 * @external String
 */

if (!String.prototype.trim) {
    /**
     * Removes whitespace from both ends of a string. Whitespace in this context is all the whitespace characters (space, tab, no-break space, etc.) and all the line terminator characters (LF, CR, etc.).
     * @function external:String#trim
     * @returns {string} - A new string representing the calling string stripped of whitespace from both ends.
     * @example
     * ' bendy '.trim();
     * // => "bendy"
     */
    String.prototype.trim = function () {
        return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, '');
    };
}

/**
 * Removes whitespace from the left of a string.
 * @function external:String#ltrim
 * @returns {string}
 * @example
 * ' bendy '.ltrim();
 * // => "bendy  "
 */
String.prototype.ltrim = function () {
    if (String.prototype.trimLeft) {
        return this.trimLeft();
    }

    return this.replace(/^\s+/, '');
}
/**
 * Removes whitespace from the right of a string.
 * @function external:String#rtrim
 * @returns {string}
 * @example
 * ' bendy '.rtrim();
 * // => "  bendy"
 */
String.prototype.rtrim = function () {
    if (String.prototype.trimRight) {
        return this.trimRight();
    }

    return this.replace(/\s+$/, '');
}
/**
 * Replaces text inside a string.
 * @function external:String#replaceAll
 * @returns {string}
 * @example
 * 'Bendy Zhang'.replaceAll('n', '-');
 * // => "Be-dy Zha-g"
 */
String.prototype.replaceAll = function (search, replacement) {
    if (typeof replacement === 'undefined') {
        return this.toString();
    }
    return this.split(search).join(replacement);
};

/**
 * Dasherizes string.
 * @function external:String#dasherize
 * @returns {string}
 * @example
 * 'Bendy Zhang 1949.10'.dasherize();
 * // => "bendy-zhang-1949-10"
 */
String.prototype.dasherize = function () {
    return this.replace(/\W+/g, "-").toLowerCase();
};

/**
 * Capitalizes string.
 * @function external:String#capitalize
 * @returns {string}
 * @example
 * 'bendy zhang'.capitalize();
 * // => "Bendy Zhang"
 */
String.prototype.capitalize = function () {
    var tmp = this.split(' ');
    var result = '';
    for (var idx = 0; idx &lt; tmp.length; idx++) {
        var s = tmp[idx];
        if (s) {
            result += (idx ? ' ' : '') + s.charAt(0).toUpperCase() + s.slice(1);
        } else {
            result += (idx ? ' ' : '');
        }
    }
    return result;
};

/**
 * Strips html tags.
 * @function external:String#stripHtmlTag
 * @returns {string} The string which does not include any html tags.
 * @example
 * '&lt;div>Hello &lt;span>World!&lt;/span>&lt;/div>'.stripHtmlTag();
 * // => "Hello World!""
 */
String.prototype.stripHtmlTag = function () {
    if (this) {
        return this.replace(/&lt;.*?>/g, '').replace(/\s+/g, ' ').trim();
    }
    return '';
};

/**
 * Cuts the string.
 * @function external:String#cut
 * @param {number} len - The length needs to cut.
 * @param {string} [ellipsis=...] - The ellipsis if the len larger than string length.
 * @returns {string} A cutted string with ellipsis or self.
 * @example
 * 'Bendy'.cut(3);
 * // => "Ben..."
 * 'Bendy'.cut(3, '---');
 * // => "Ben---"
 */
String.prototype.cut = function (len, ellipsis) {
    ellipsis = ellipsis || '...';
    if (this.length > len) {
        return this.substr(0, len) + ellipsis;
    }
    return this;
};

/**
 * Converts a string to Json object.
 * @function external:String#toObject
 * @returns {object} The parsed object.
 */
String.prototype.toObject = function () {
    if (this) {
        return JSON.parse(this);
    }
    return null;
};

/**
 * Replaces using regex.
 * @function external:String#regexReplace
 * @param {*} pattern - The regex pattern object or string. If expression string, will ignore case and global replacement.
 * @param {*} replacement - The replacement needs to replace.
 * @returns {string} The replaced string.
 * @example
 * 'Bendy Zhang'.regexReplace('\sZh', '-');
 * // => "Bendy-ndy"
 * 'Bendy Zhang'.regexReplace(/\sZh/ig, '-');
 * // => "Bendy-ndy"
 */
String.prototype.regexReplace = function (pattern, replacement) {
    if (typeof pattern === 'string') {
        return this.replace(new RegExp(pattern, 'ig'), replacement);
    }
    return this.replace(pattern, replacement);
};

/**
 * Repeats the specific string.
 * @function external:String#repeat
 * @param {number} count - The repeat count.
 * @returns {string} The repeated string.
 * @example
 * 'abc'.repeat(0);    // ''
 * 'abc'.repeat(1);    // 'abc'
 * 'abc'.repeat(2);    // 'abcabc'
 */
if (!String.prototype.repeat) {
    String.prototype.repeat = function (count) {
        var result = '';
        for (var i = 0; i &lt; count; i++) {
            result += this;
        }
        return result;
    };
}

/**
 * Pads string at start. 
 * @function external:String#padLeft
 * @param {number} targetLength - The total length.
 * @param {string} padString - The padding string.
 * @returns {string} The padded string.
 * @example
 * 'abc'.padLeft(10);         // "       abc"
 * 'abc'.padLeft(10, "foo");  // "foofoofabc"
 * 'abc'.padLeft(6,"123465"); // "123abc"
 * 'abc'.padLeft(8, "0");     // "00000abc"
 * 'abc'.padLeft(1);          // "abc"
 */
String.prototype.padLeft = function (targetLength, padString) {
    if (!padString) {
        return this;
    }
    if (String.prototype.padStart) {
        return this.padStart(targetLength, padString);
    }

    if (this.length &lt; targetLength) {
        var repeatCount = (targetLength - this.length) / padString;
        var tailLength = Math.floor(targetLength - this.length) / padString;
        return padString.repeat(repeatCount) + padString.substr(0, tailLength) + this;
    }

    return this;
};

/**
 * Pads string at end. 
 * @function external:String#padRight
 * @param {number} targetLength - The total length.
 * @param {string} padString - The padding string.
 * @returns {string} The padded string.
 * @example
 * 'abc'.padRight(10);         // "abc       "
 * 'abc'.padRight(10, "foo");  // "abcfoofoof"
 * 'abc'.padRight(6,"123465"); // "abc123"
 * 'abc'.padRight(8, "0");     // "abc00000"
 * 'abc'.padRight(1);          // "abc"
 */
String.prototype.padRight = function (targetLength, padString) {
    if (!padString) {
        return this;
    }
    if (String.prototype.padEnd) {
        return this.padEnd(targetLength, padString);
    }

    if (this.length &lt; targetLength) {
        var repeatCount = (targetLength - this.length) / padString;
        var tailLength = Math.floor(targetLength - this.length) / padString;
        return this + padString.repeat(repeatCount) + padString.substr(0, tailLength);
    }

    return this;
};

/**
 * Make title which can as one part in url. like hello-world.
 * @function external:String#title2Url
 * @param {string} title - The title.
 * @returns {string} The string is one part of url.
 * @example
 * 'Hello World!'.title2Url();
 * // => hello-world-
 */
String.prototype.title2Url = function() {
    if (this) {
        return this.replace(/\W+/g, '-').toLowerCase();
    }
    return '';
};

/**
 * Converts markdown text to html.
 * @function external:String#md2Html
 * @since 1.0.53
 * @requires {@link http://showdownjs.com/|Showdown}
 * @returns {string} The html text.
 * @example
 * '## Hello **World**'.md2Html();
 */
String.prototype.md2Html = function() {
    if (this) {
        var converter = new showdown.Converter();
        return converter.makeHtml(this);
    }

    return '';
}</code></pre>
        </article>
    </section>




</div>

<br class="clear">

<footer style="font-size: .7rem; color: #aaa; padding-left:20px; line-height:1rem;">
    Generated  on Thu Jun 28 2018 15:45:38 GMT+0800 (CST)
    <br />
    Powered by <a href="http://bndy.net" target="_blank" style="color:red;">BNDY.NET</a>, Author: <a href="mailto:zb@bndy.net">Bendy Zhang</a>
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>
